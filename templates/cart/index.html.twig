{% extends 'base.html.twig' %}

{% block title %}Mon panier-French boutique{% endblock %}

{% block content %}
<h1>Mon panier</h1>

Retrouvez l'ensembles des produits que vous avez ajouté à votre panier.
<br>
<hr>


<table class="table mt-3">
  <thead>
    <tr>
      
      <th scope="col">produit</th>
      <th scope="col"></th>
      <th scope="col">Quantité</th>
      <th scope="col">Prix</th>
      <th scope="col">Total</th>
    </tr>
  </thead>
  <tbody>
  {% set total = null %}
  {% for produit in cart %}
  
    <tr>
      <th> 
      <img src ="/img/{{ produit.produit.illustration}}" alt ="{{produit.produit.name}}"height="75px"><br>
      
      </th>
      <td>
      {{ produit.produit.name }}<br>
      <small>{{ produit.produit.subtitle }}</small>
      </td>
      <td>{{ produit.quantity }} </td>
      <td> {{(produit.produit.price / 100)|number_format(2, ',','.')}} </td>
      <td> {{ ((produit.produit.price * produit.quantity)/100 ) |number_format(2, ',','.')}} €</td>

    </tr>
    {% set total = total + (produit.produit.price * produit.quantity) %}
    {% endfor %}
  </tbody>
</table>
<div class="text-end mb-5">

<b>nombre de produit:</b> {{cart|length}} </br>
<b>Total de mon panier:</b>{{ (total / 100 ) |number_format(2, ',','.')}} €
<br>
</div>

<div class="d-grid gap-2 col-12 mx-auto">
  <a href="" class="btn btn-secondary" type="button">Valider mon panier</a>
</div>
<br>
{% endblock %}
